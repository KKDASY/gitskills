/**
*****************************************************************************************
 * @file     kth7816.h
 * @author   Michael Zhou
 * 
 * @brief    
 * 
 * @date     2025-05-05
 * @version  0.0.1
 * 
 * @note     
 * @warning  
 * 
 * Copyright (c) WUJITECH 2019-2025. All rights reserved.
*****************************************************************************************
*/
/**************************************************************************************************
---- Define to Prevent Recursive Inclusion ------------------------------------------------------*/

#ifndef KTH7816_H
#define KTH7816_H

#ifdef __cplusplus
    extern "C" {
#endif

/**************************************************************************************************
---- Includes -----------------------------------------------------------------------------------*/

#include "kth7816_cfg.h"
#include "main.h"

/**************************************************************************************************
---- Constant Defines ---------------------------------------------------------------------------*/

/* Do not modify */
#define KTH7816_SIGNAL_DELAY_NS             1000
#define KTH7816_NONLINEAR_ERROR_DEGREE      0.35f
#define KTH7816_OUTPUT_NOISE_DEGREE         0.015f
#define KTH7816_TEMPERATURE_DRIFT           0.002f
#define KTH7816_LOW_MAG_THRESHOLD_MT        30
#define KTH7816_HIGH_MAG_THRESHOLD_MT       150

/**************************************************************************************************
---- Macro Defines ------------------------------------------------------------------------------*/

// 宏函数  #define GEN_ARRAY(x)  int a[x] = {}

/**************************************************************************************************
---- Type Defines -------------------------------------------------------------------------------*/

// 定义类型  typedef unsigned char u8;

/**************************************************************************************************
---- Enumerations -------------------------------------------------------------------------------*/


/**************************************************************************************************
---- Structures ---------------------------------------------------------------------------------*/

// 结构体  typedef struct { int a; float b; char *c; } Packet;

/**************************************************************************************************
---- Extern Variables ---------------------------------------------------------------------------*/

extern uint32_t KTH7816_Raw_Pos;

/**************************************************************************************************
---- Function Prototypes ------------------------------------------------------------------------*/

void KTH7816_Init(void);
void KTH7816_Disable_Read_Write(void);
void KTH7816_Start_Read_Pos_DMA(void);

/*-----------------------------------------------------------------------------------------------*/

#ifdef __cplusplus
}
#endif

#endif /* KTH7816_H */

/**** END OF FILE ******************* (C) WUJITECH 2019-2025 ******************** END OF FILE ****/
